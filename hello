FeignException feignEx = mock(FeignException.class);
when(feignEx.contentUTF8()).thenReturn("{\"msg\":\"Some error occurred\",\"errorCode\":\"500\"}");

when(saviyntClient.updateEntitlementsOnUser(anyString(), any())).thenThrow(feignEx);

try (MockedStatic<StartAnywhereSecurityUtil> secUtil = mockStatic(StartAnywhereSecurityUtil.class)) {
    secUtil.when(() -> StartAnywhereSecurityUtil.unCleanIt(any())).thenReturn("{}");

    try (MockedStatic<RequestHeader> reqHeader = mockStatic(RequestHeader.class)) {
        RequestHeader header = new RequestHeader();
        header.setCorrelationId("corr123");
        reqHeader.when(() -> RequestHeader.parse(any())).thenReturn(header);

        when(trackRepo.findByCorrelationIdAndClientId(any(), any())).thenReturn(null);

        // Now call the method
        service.createGroupsAsync("session", "{}", "client123", "ClientX");
    }
}
