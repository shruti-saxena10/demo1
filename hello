@Test
void testFailedEntitlementPopulation() throws Exception {
    // Mock the JSON response
    JSONObject jsonObject = new JSONObject();
    jsonObject.put("msg", "Some error message");
    jsonObject.put("errorCode", "ERR001");

    // Valid fields for description
    Map<String, String> validFields = Map.of("description", "Test Description");

    // Create the failedEntitlement list
    List<CreateGroupsResponse.FailedEntitlement> failedEntitlementsList = new ArrayList<>();

    // Call the actual logic block
    Map<String, String> presentValues = service.getPresentValues(jsonObject);
    CreateGroupsResponse.FailedEntitlement failedEntitlement = new CreateGroupsResponse.FailedEntitlement();
    failedEntitlement.setEntitlementName(validFields.get("description"));
    failedEntitlement.setErrorMessage(presentValues.get("msg"));
    failedEntitlement.setErrorCode(presentValues.get("errorCode"));
    failedEntitlementsList.add(failedEntitlement);

    // Assertions
    assertEquals(1, failedEntitlementsList.size());
    CreateGroupsResponse.FailedEntitlement fe = failedEntitlementsList.get(0);
    assertEquals("Test Description", fe.getEntitlementName());
    assertEquals("Some error message", fe.getErrorMessage());
    assertEquals("ERR001", fe.getErrorCode());
}
